<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import eu.hansolo.tilesfx.Tile?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.tfg.dashboard_tfg.viewmodel.DashboardController">

    <VBox spacing="20.0"
          AnchorPane.bottomAnchor="20.0"
          AnchorPane.leftAnchor="20.0"
          AnchorPane.rightAnchor="20.0"
          AnchorPane.topAnchor="20.0"
          style="-fx-border-width: 1;
                 -fx-padding: 20 20 20 20;"
          styleClass="view"
    >

        <Label text="Dashboard"
               style="-fx-font-size: 28px; -fx-font-weight: bold;">
        </Label>

        <HBox spacing="20.0" alignment="CENTER" VBox.vgrow="ALWAYS">
            <VBox style="-fx-background-radius: 5; -fx-padding: 20;"
                  styleClass="dashboard-container"
                  HBox.hgrow="ALWAYS">
                <Label text="System Status"
                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <Label fx:id="statusLabel"/>
                <GridPane hgap="20.0" vgap="20.0">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints percentHeight="50"/>
                        <RowConstraints percentHeight="50"/>
                    </rowConstraints>

                    <Tile fx:id="systemStatusTile"
                          GridPane.columnIndex="0"
                          GridPane.rowIndex="0"
                          title="Server Status"
                          description="Media Server Health"
                          textSize="BIGGER"
                          valueColor="GREEN"
                          animated="true"
                          skinType="BAR_GAUGE"
                          onMouseClicked="#onclicktile"
                    />

                    <!-- Storage Tile - Using a gauge tile for space usage -->
                    <Tile fx:id="storageTile"
                          GridPane.columnIndex="1"
                          GridPane.rowIndex="0"
                          title="Storage"
                          description="Total Space"
                          textSize="BIGGER"
                          animated="true"
                          skinType="GAUGE"
                          unit="\%"
                          maxValue="100"
                          thresholdVisible="true"
                          onMouseClicked="#onclicktile"
                    />

                    <!-- Network Tile - Using a bar chart for bandwidth -->
                    <Tile fx:id="networkTile"
                          GridPane.columnIndex="2"
                          GridPane.rowIndex="0"
                          title="Network"
                          description="Bandwidth"
                          textSize="BIGGER"
                          animated="true"
                          skinType="SMOOTH_AREA_CHART"
                          unit="Mbps"
                          alert="true"
                          alarmColor="red"
                          threshold="20"
                          onMouseClicked="#onclicktile"
                    />

                    <!-- CPU Usage Tile - Using a spark line chart -->
                    <Tile fx:id="cpuTile"
                          GridPane.columnIndex="3"
                          GridPane.rowIndex="0"
                          title="CPU Usage"
                          description="Processing Load"
                          textSize="BIGGER"
                          animated="true"
                          animationDuration="1000"
                          skinType="GAUGE_SPARK_LINE"
                          unit="\%"
                          maxValue="100"
                          onMouseClicked="#onclicktile"
                          onScroll="#onscroll"
                    />

                    <!-- Memory Tile - Using a LED tile for RAM usage -->
                    <Tile fx:id="memoryTile"
                          GridPane.columnIndex="0"
                          GridPane.rowIndex="1"
                          title="Memory"
                          description="RAM Usage"
                          textSize="BIGGER"
                          animated="true"
                          skinType="BAR_GAUGE"
                          value="20"
                          unit="\%"
                          onMouseClicked="#onclicktile"
                    />

                    <!-- Temperature Tile - Using a high/low tile -->
                    <Tile fx:id="temperatureTile"
                          GridPane.columnIndex="1"
                          GridPane.rowIndex="1"
                          title="Server Temp"
                          description="Hardware Monitoring"
                          textSize="BIGGER"
                          unit="Â°C"
                          animated="true"
                          skinType="GAUGE"
                          maxValue="100"
                          minValue="0"
                          averagingPeriod="10"
                          activeColor="RED"
                          onMouseClicked="#onclicktile"
                          checkThreshold="true"
                          checkSectionsForValue="true"
                          alertMessage="Temperature Critical!"
                          sectionsVisible="true"
                          sectionIconsVisible="true"
                    />

                    <!-- Jellyfin Status Tile - Using a switch tile -->
                    <Tile fx:id="jellyfinStatusTile"
                          GridPane.columnIndex="2"
                          GridPane.rowIndex="1"
                          title="Jellyfin"
                          description="Media Server"
                          textSize="BIGGER"
                          valueColor="green"
                          animated="true"
                          skinType="LED"
                          active="true"
                          onMouseClicked="#onclicktile"
                    />

                    <!-- Docker Status Tile - Using a smoothed chart for container metrics -->
                    <Tile fx:id="dockerStatusTile"
                          GridPane.columnIndex="3"
                          GridPane.rowIndex="1"
                          title="Docker"
                          description="Containers"
                          textVisible="true"
                          strokeWithGradient="true"
                          unit="\%"
                          textSize="BIGGER"
                          animated="true"
                          skinType="GAUGE2"
                          value="100"
                          onMouseClicked="#onclicktile"
                          onDragDetected="#ondrag"
                          onDragDropped="#ondragdrop"
                    />
                </GridPane>
            </VBox>
        </HBox>
    </VBox>
</AnchorPane>
