<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<?import eu.hansolo.tilesfx.Tile?>
<AnchorPane fx:controller="com.tfg.dashboard_tfg.Controller"
            prefHeight="750.0" prefWidth="1400.0"
            styleClass="root"
            xmlns="http://javafx.com/javafx/17.0.2"
            xmlns:fx="http://javafx.com/fxml/1">
    <children>
        <BorderPane layoutX="0.0" layoutY="0.0" prefHeight="750.0" prefWidth="1400.0"
                    AnchorPane.bottomAnchor="0.0"
                    AnchorPane.leftAnchor="0.0"
                    AnchorPane.rightAnchor="0.0"
                    AnchorPane.topAnchor="0.0">
            <left>
                <VBox prefHeight="750.0" prefWidth="250.0"
                      style="-fx-background-color: #1e1e2c;">
                    <children>
                        <HBox alignment="CENTER_LEFT" prefHeight="80.0" prefWidth="250.0">
                            <children>
                                <Label text="Dashboard" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="24.0"/>
                                    </font>
                                    <HBox.margin>
                                        <Insets left="20.0"/>
                                    </HBox.margin>
                                </Label>
                            </children>
                        </HBox>

                        <VBox VBox.vgrow="ALWAYS" spacing="10.0" prefWidth="250.0">
                            <children>
                                <Button fx:id="dashboardBtn"
                                        onAction="#showDashboardView"
                                        alignment="BASELINE_LEFT"
                                        graphicTextGap="15.0"
                                        prefHeight="50.0"
                                        prefWidth="250.0"
                                        style="-fx-background-color: #2e2e42; -fx-text-fill: white;"
                                        text="Dashboard">
                                    <graphic>
                                        <Label text="⊡" textFill="WHITE">
                                            <font>
                                                <Font size="18.0"/>
                                            </font>
                                        </Label>
                                    </graphic>
                                    <font>
                                        <Font size="16.0"/>
                                    </font>
                                    <padding>
                                        <Insets left="20.0"/>
                                    </padding>
                                </Button>

                                <Button fx:id="sonarrBtn"
                                        onAction="#showSonarrView"
                                        alignment="BASELINE_LEFT"
                                        graphicTextGap="15.0"
                                        prefHeight="50.0"
                                        prefWidth="250.0"
                                        style="-fx-background-color: transparent; -fx-text-fill: white;"
                                        text="Sonarr">
                                    <graphic>
                                        <Label text="📺" textFill="WHITE">
                                            <font>
                                                <Font size="18.0"/>
                                            </font>
                                        </Label>
                                    </graphic>
                                    <font>
                                        <Font size="16.0"/>
                                    </font>
                                    <padding>
                                        <Insets left="20.0"/>
                                    </padding>
                                </Button>

                                <Button fx:id="jellyfinBtn"
                                        onAction="#showJellyfinView"
                                        alignment="BASELINE_LEFT"
                                        graphicTextGap="15.0"
                                        prefHeight="50.0"
                                        prefWidth="250.0"
                                        style="-fx-background-color: transparent; -fx-text-fill: white;"
                                        text="Jellyfin">
                                    <graphic>
                                        <Label text="🎬" textFill="WHITE">
                                            <font>
                                                <Font size="18.0"/>
                                            </font>
                                        </Label>
                                    </graphic>
                                    <font>
                                        <Font size="16.0"/>
                                    </font>
                                    <padding>
                                        <Insets left="20.0"/>
                                    </padding>
                                </Button>

                                <Button fx:id="dockerBtn"
                                        onAction="#showDockerView"
                                        alignment="BASELINE_LEFT"
                                        graphicTextGap="15.0"
                                        prefHeight="50.0"
                                        prefWidth="250.0"
                                        style="-fx-background-color: transparent; -fx-text-fill: white;"
                                        text="Docker">
                                    <graphic>
                                        <Label text="🐳" textFill="WHITE">
                                            <font>
                                                <Font size="18.0"/>
                                            </font>
                                        </Label>
                                    </graphic>
                                    <font>
                                        <Font size="16.0"/>
                                    </font>
                                    <padding>
                                        <Insets left="20.0"/>
                                    </padding>
                                </Button>
                            </children>
                            <padding>
                                <Insets top="20.0"/>
                            </padding>
                        </VBox>

                        <VBox VBox.vgrow="NEVER">
                            <Button fx:id="loginMenuBtn"
                                    onAction="#showLoginForm"
                                    alignment="BASELINE_LEFT"
                                    graphicTextGap="15.0"
                                    prefHeight="50.0"
                                    prefWidth="250.0"
                                    style="-fx-background-color: transparent; -fx-text-fill: white;"
                                    text="Login">
                                <graphic>
                                    <Label text="🔐" textFill="WHITE">
                                        <font>
                                            <Font size="18.0"/>
                                        </font>
                                    </Label>
                                </graphic>
                                <font>
                                    <Font size="16.0"/>
                                </font>
                                <padding>
                                    <Insets left="20.0"/>
                                </padding>
                            </Button>
                        </VBox>
                    </children>
                </VBox>
            </left>

            <center>
                <StackPane fx:id="mainStackPane">
                    <children>
                        <!-- Dashboard View -->
                        <AnchorPane fx:id="dashboardView"
                                    style="-fx-background-color: #f5f5f5;">
                            <children>
                                <VBox spacing="20.0"
                                      AnchorPane.bottomAnchor="20.0"
                                      AnchorPane.leftAnchor="20.0"
                                      AnchorPane.rightAnchor="20.0"
                                      AnchorPane.topAnchor="20.0">
                                    <children>
                                        <Label text="Dashboard"
                                               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2e2e42;">
                                        </Label>

                                        <HBox spacing="20.0">
                                            <children>
                                                <!-- System Status Card -->
                                                <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20px;">
                                                    <Label text="System Status"
                                                           style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                                                    <Label text="All services running"
                                                           style="-fx-text-fill: green;"/>
                                                    <GridPane hgap="20.0" vgap="20.0">
                                                        <columnConstraints>
                                                            <ColumnConstraints percentWidth="25"/>
                                                            <ColumnConstraints percentWidth="25"/>
                                                            <ColumnConstraints percentWidth="25"/>
                                                            <ColumnConstraints percentWidth="25"/>
                                                        </columnConstraints>
                                                        <rowConstraints>
                                                            <RowConstraints percentHeight="50"/>
                                                            <RowConstraints percentHeight="50"/>
                                                        </rowConstraints>

                                                        <!-- System Status Tile -->
                                                        <Tile fx:id="systemStatusTile"
                                                              GridPane.columnIndex="0"
                                                              GridPane.rowIndex="0"
                                                              title="System Status"
                                                              description="Media Server Health"
                                                              textSize="BIGGER"
                                                              valueColor="GREEN"
                                                              animated="true"/>

                                                        <!-- Storage Tile -->
                                                        <Tile fx:id="storageTile"
                                                              GridPane.columnIndex="1"
                                                              GridPane.rowIndex="0"
                                                              title="Storage"
                                                              description="Total Space"
                                                              textSize="BIGGER"
                                                              animated="true"/>

                                                        <!-- Network Tile -->
                                                        <Tile fx:id="networkTile"
                                                              GridPane.columnIndex="2"
                                                              GridPane.rowIndex="0"
                                                              title="Network"
                                                              description="Bandwidth"
                                                              textSize="BIGGER"
                                                              animated="true"/>

                                                        <!-- CPU Usage Tile -->
                                                        <Tile fx:id="cpuTile"
                                                              GridPane.columnIndex="3"
                                                              GridPane.rowIndex="0"
                                                              title="CPU Usage"
                                                              description="Processing Load"
                                                              textSize="BIGGER"
                                                              animated="true"/>

                                                        <!-- Memory Tile -->
                                                        <Tile fx:id="memoryTile"
                                                              GridPane.columnIndex="0"
                                                              GridPane.rowIndex="1"
                                                              title="Memory"
                                                              description="RAM Usage"
                                                              textSize="BIGGER"
                                                              animated="true"/>

                                                        <!-- Temperature Tile -->
                                                        <Tile fx:id="temperatureTile"
                                                              GridPane.columnIndex="1"
                                                              GridPane.rowIndex="1"
                                                              title="Server Temp"
                                                              description="Hardware Temperature"
                                                              textSize="BIGGER"
                                                              unit="CELSIUS"
                                                              animated="true"/>

                                                        <!-- Jellyfin Status Tile -->
                                                        <Tile fx:id="jellyfinStatusTile"
                                                              GridPane.columnIndex="2"
                                                              GridPane.rowIndex="1"
                                                              title="Jellyfin"
                                                              description="Media Server"
                                                              textSize="BIGGER"
                                                              valueColor="GREEN"
                                                              animated="true"/>

                                                        <!-- Docker Status Tile -->
                                                        <Tile fx:id="dockerStatusTile"
                                                              GridPane.columnIndex="3"
                                                              GridPane.rowIndex="1"
                                                              title="Docker"
                                                              description="Containers"
                                                              textSize="BIGGER"
                                                              animated="true"
                                                              skinType="SMOOTHED_CHART"/>

                                                    </GridPane>
                                                </VBox>
                                            </children>
                                        </HBox>
                                    </children>
                                </VBox>
                            </children>
                        </AnchorPane>

                        <!-- Sonarr View -->
                        <AnchorPane fx:id="sonarrView"
                                    style="-fx-background-color: #f5f5f5;"
                                    visible="false">
                            <children>
                                <VBox spacing="20.0"
                                      AnchorPane.bottomAnchor="20.0"
                                      AnchorPane.leftAnchor="20.0"
                                      AnchorPane.rightAnchor="20.0"
                                      AnchorPane.topAnchor="20.0">
                                    <children>
                                        <Label text="Sonarr"
                                               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2e2e42;"/>
                                    </children>
                                </VBox>
                            </children>
                        </AnchorPane>

                        <!-- Jellyfin View -->
                        <AnchorPane fx:id="jellyfinView"
                                    style="-fx-background-color: #f5f5f5;"
                                    visible="false">
                            <children>
                                <VBox spacing="20.0"
                                      AnchorPane.bottomAnchor="20.0"
                                      AnchorPane.leftAnchor="20.0"
                                      AnchorPane.rightAnchor="20.0"
                                      AnchorPane.topAnchor="20.0">
                                    <children>
                                        <Label text="Jellyfin"
                                               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2e2e42;"/>
                                    </children>
                                </VBox>
                            </children>
                        </AnchorPane>

                        <!-- Docker View -->
                        <AnchorPane fx:id="dockerView"
                                    style="-fx-background-color: #f5f5f5;"
                                    visible="false">
                            <children>
                                <VBox spacing="20.0"
                                      AnchorPane.bottomAnchor="20.0"
                                      AnchorPane.leftAnchor="20.0"
                                      AnchorPane.rightAnchor="20.0"
                                      AnchorPane.topAnchor="20.0">
                                    <children>
                                        <Label text="Docker"
                                               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2e2e42;"/>
                                    </children>
                                </VBox>
                            </children>
                        </AnchorPane>

                        <!-- Login View -->
                        <AnchorPane fx:id="loginView"
                                    style="-fx-background-color: #f5f5f5;"
                                    visible="false">
                            <children>
                                <VBox alignment="CENTER"
                                      spacing="20.0"
                                      AnchorPane.bottomAnchor="0.0"
                                      AnchorPane.leftAnchor="0.0"
                                      AnchorPane.rightAnchor="0.0"
                                      AnchorPane.topAnchor="0.0">
                                    <children>
                                        <Label text="Media Hub Login"
                                               style="-fx-font-size: 28px; -fx-font-weight: bold;"/>

                                        <VBox spacing="15.0"
                                              alignment="CENTER"
                                              style="-fx-background-color: white;
                                                     -fx-padding: 30px;
                                                     -fx-background-radius: 10;">
                                            <children>
                                                <Label text="Username"
                                                       alignment="CENTER_LEFT"/>
                                                <TextField fx:id="usernameField"
                                                           promptText="Enter username"
                                                           prefWidth="300"/>

                                                <Label text="Password"
                                                       alignment="CENTER_LEFT"/>
                                                <PasswordField fx:id="passwordField"
                                                               promptText="Enter password"
                                                               prefWidth="300"/>

                                                <Label fx:id="loginErrorLabel"
                                                       textFill="red"
                                                       visible="false"/>

                                                <HBox alignment="CENTER" spacing="10.0">
                                                    <Button text="Login"
                                                            onAction="#handleLogin"
                                                            style="-fx-background-color: #2e2e42;
                                                                   -fx-text-fill: white;"/>
                                                    <Button text="Cancel"
                                                            onAction="#cancelLogin"
                                                            style="-fx-background-color: lightgray;"/>
                                                </HBox>
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>
                            </children>
                        </AnchorPane>
                    </children>
                </StackPane>
            </center>
        </BorderPane>
    </children>
</AnchorPane>